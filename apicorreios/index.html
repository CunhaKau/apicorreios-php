<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de CEP</title>
</head>
<script>
    function buscarEndereco(){
        var cep = document.getElementById("cep").value;
        
        if (cep.length !== 8){
            alert("CEP deve conter 8 dígitos");
            return;
        }

        fetch('consulta.php?cep=' + cep)
        .then(response => response.json())
        .then(data => {
            if (data.erro) {
                alert("CEP não encontrado.");
            } else {
              document.getElementById("logradouro").value = data.logradouro;  
              document.getElementById("bairro").value = data.bairro;  
              document.getElementById("cidade").value = data.cidade;  
              document.getElementById("uf").value = data.uf;  
            }
        })
        .catch(error => console.error("Erro ao buscar o CEP:", error));
    }
</script>
<body>
    <h1>Consulta de Endereço por CEP</h1>
    <form onsubmit="event.preventDefault(); buscarEndereco();">
        <label>CEP:
            <input type="text" id="cep" maxlength="8" required>
        </label>
        <br><br>
          <label>Logradouro:
            <input type="text" id="logradouro" readonly>
        </label>
        <br><br>
          <label>Número:
            <input type="number" id="numero">
        </label>
        <br><br>
         <label>Complemento:
            <input type="text" id="complemento">
        </label>
        <br><br>
        <label>Bairro:
            <input type="text" id="bairro" readonly>
        </label>
        <br><br>
        <label>Cidade:
            <input type="text" id="cidade" readonly>
        </label>
        <br><br>
        <label>UF:
            <input type="text" id="uf" readonly>
        </label>
        <br><br>
        <button type="submit">Buscar Endereço</button>
    </form>
</body>
</html>
